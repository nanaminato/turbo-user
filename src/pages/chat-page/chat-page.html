<div class="screen-content w-100 h-100">
  @if(visible()){
    <div class="p-0 m-0 d-flex flex-column h-100 z-2 menu">
      <div class="bg-theme overflow-y-scroll scrollbar-y-none flex-grow-1">
        <!-- 历史记录标记 -->
        @defer (on immediate) {
          <app-chat-history ></app-chat-history>
        } @placeholder {
          <nz-skeleton></nz-skeleton>
        }
      </div>
      <div class="bg-theme sticky-bottom z-0">
        <ng-template #studios>
          <div class="w-100 d-flex flex-column">
            <button nz-button class="rounded-2 bg-light text-dark mx-2 my-1 d-flex flex-row" routerLink="/chat"><img height="25" width="25" src="assets/icon/aichat_11zon.jpg">{{'universal.aiChat' | translate}}</button>
            <button nz-button class="rounded-2 bg-light text-dark mx-2 my-1 d-flex flex-row" routerLink="/image-studio"><img height="25" width="25" src="assets/icon/aipainting_11zon.jpg">{{'universal.aiPainting' | translate}}</button>
            <button nz-button class="rounded-2 bg-light text-dark mx-2 my-1 d-flex flex-row" routerLink="/video-studio"><img height="25" width="25" src="assets/icon/aivideo_11zon.jpg">{{'universal.aiVideo' | translate}}</button>
            <button nz-button class="rounded-2 bg-light text-dark mx-2 my-1 d-flex flex-row" routerLink="/media-studio"><span nz-icon nzType="node-index" nzTheme="outline"></span>多媒体工作室</button>
          </div>
        </ng-template>
        <ng-container *ngTemplateOutlet="studios"></ng-container>
        <div class="w-100">
          <div class="d-flex flex-row">
            <button class="rounded-5 m-2 bg-theme text-theme" nz-button
                    (click)="openSettingPage()"
            >
              {{ 'chat-history.settings' | translate}}<span nz-icon nzType="setting" nzTheme="outline"></span>
            </button>
            <button class="rounded-5 m-2 d-flex flex-row align-items-center bg-theme text-theme" nz-button
                    (click)="openPromptPage()"
            >
              {{ 'chat-history.prompts' | translate}}<span nz-icon nzType="appstore" nzTheme="outline"></span>
            </button>
          </div>
          @defer (on viewport) {
            <app-account-label></app-account-label>
          } @placeholder {
            <nz-skeleton></nz-skeleton>
          }
        </div>
      </div>
    </div>
  }@else{
    <div></div>
  }
  <div style="flex: 1 1 auto; overflow: hidden;">
    <router-outlet id="main-content"></router-outlet>
  </div>
</div>
