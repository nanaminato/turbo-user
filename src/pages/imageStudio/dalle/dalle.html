<div class="bg-theme text-theme w-100 h-100 d-flex flex-row">
  <div class="w-100 d-flex flex-row">
    <div class="h-100 flex-grow-0 flex-shrink-0 d-flex flex-column" style="width: 316px;">
      <div class="px-3">
        <button nz-button class="mx-2">
          @if(menuVisible()){
            <nz-icon nzType="menu-fold" nzTheme="outline" (click)="toggleMenu()"/>
          }@else{
            <nz-icon nzType="menu-unfold" nzTheme="outline" (click)="toggleMenu()" />
          }
        </button>
      </div>
      <div class="overflow-y-scroll z-0 flex-grow-1 px-3">
        <div>模型</div>
        <nz-select [(ngModel)]="model">
          <nz-option [nzValue]="'dall-e-3'">dall-e-3</nz-option>
        </nz-select>
        <div>提示词</div>
        <textarea
          nz-input
          style=""
          class="fs-6"
          [(ngModel)]="prompt"
          [nzAutosize]="{ minRows: 2, maxRows: 6 }"
        ></textarea>
        <div>生成数量</div>
        <div class="d-flex flex-row">
          <nz-slider [nzMin]="1" [nzMax]="10" [nzStep]="1" [(ngModel)]="image_num"></nz-slider>
          <nz-input-number [nzMin]="1" [nzMax]="16" [nzStep]="1" [(ngModel)]="image_num"></nz-input-number>
        </div>
        <div>生成大小</div>
        <nz-select [(ngModel)]="size">
          @for(size of sizes;track size){
            <nz-option [nzValue]="size">{{ size }}</nz-option>
          }
        </nz-select>
        <div>质量</div>
        <nz-select [(ngModel)]="quality">
          @for(quality of qualities;track quality){
            <nz-option [nzValue]="quality">{{ quality }}</nz-option>
          }
        </nz-select>
        <div>风格</div>
        <nz-select [(ngModel)]="style">
          @for(style of styles;track style){
            <nz-option [nzValue]="style">{{ style }}</nz-option>
          }
        </nz-select>
        <div>数据格式</div>
        <nz-select [(ngModel)]="response_format">
          @for(response_format of image_response_formats;track response_format){
            <nz-option [nzValue]="response_format">{{ response_format }}</nz-option>
          }
        </nz-select>
      </div>
      <div class="sticky-bottom">
        <button nz-button expand="block" (click)="generateImages()">{{ 'universal.generate'|translate }}</button>
      </div>
    </div>
    <div class="h-100 d-flex flex-grow-1 overflow-y-scroll overflow-x-scroll">
      <app-gallery class="w-100" #gallery [loading]="loading" [images]="images"></app-gallery>
    </div>
  </div>
</div>
